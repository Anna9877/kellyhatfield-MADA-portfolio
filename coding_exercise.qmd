---
title: "R Coding Exercise - Kelly Hatfield"
output:
  html_document:
    toc: FALSE
---

## R Code for loading packages

```{r}

#load dslabs package
library("dslabs")
#load ggplot2
library(ggplot2)

#look at help file for gapminder data
help(gapminder)
#get an overview of data structure
str(gapminder)
#get a summary of data
summary(gapminder)
#determine the type of object gapminder is
class(gapminder)


```

## R code for data exploration and cleaning

```{r}
#Write code that assigns only the African countries to a new object/variable called africadata. 

africadata = subset(gapminder, continent=='Africa')

#Run str and summary on the new object you created.
str(africadata)
summary(africadata)

#We now have 2907 observations, down from 10545. Depending on how you do this, you might also notice that all the different categories are still kept in the continent (and other) variables, but show 0.

#Take the africadata object and create two new objects (name them whatever you want)

#Object 1 contains only infant_mortality and life_expectancy

myvars1 <- c("infant_mortality","life_expectancy")
object1 <- africadata[myvars1]
str(object1)
summary(object1)


# Object2 contains only population and life_expectancy. 

myvars2 <- c("population","life_expectancy")
object2 <- africadata[myvars2]
str(object2)
summary(object2)

#Plot the data as points.
#Object 1
ggplot(object1, aes(x=infant_mortality, y=life_expectancy)) +geom_point()

#Object2
p<- ggplot(object2, aes(x=population, y=life_expectancy)) +geom_point()
p + scale_x_continuous(trans = 'log10')

#Looking at code for years with missing infant mortality
missing_mortality = subset(africadata, is.na(infant_mortality)) 
table(missing_mortality$year)

```

## Plotting and Analyzing Data from African Countries in 2000

```{r}

#New Object just for Year=2000
africadata_2000 = subset(africadata, year==2000) 
str(africadata_2000)
summary(africadata_2000)

#More Plotting
#Infant Mortality and Life Expectancy in 2000;
ggplot(africadata_2000, aes(x=infant_mortality, y=life_expectancy)) +geom_point()

#Population and Life Expectancy in 2000; 
p2<- ggplot(africadata_2000, aes(x=population, y=life_expectancy)) +geom_point()
p2 + scale_x_continuous(trans = 'log10')

#Statistics
#fit linear regression model using 'x' as predictor and 'y' as response variable
fit1 = lm(life_expectancy~infant_mortality, data=africadata_2000)
summary(fit1)
fit2 = lm(life_expectancy~population, data=africadata_2000)
summary(fit2)

```

## 

## Conclusions

We determined that in a simple linear regression that increased life expectancy is associated with linear trend in decreased infant mortality for African countries in the year 2000. However, population size does not appear to have a linear relationship with life expectancy.
